<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Theme colors for light and dark mode -->
    <meta
      name="theme-color"
      content="#f2e7d2"
      media="(prefers-color-scheme: light)"
    />
    <meta
      name="theme-color"
      content="#55443c"
      media="(prefers-color-scheme: dark)"
    />
    <title>Rezepte</title>
    <meta name="author" content="Brynne O'Brien" />
    <link rel="manifest" href="/eichhörnchen/site.webmanifest" />
    <link href="/src/styles/index.css" rel="stylesheet" />

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/eichhörnchen/favicon.svg" />
    <link
      rel="icon"
      type="image/png"
      href="/eichhörnchen/favicon-96x96.png"
      sizes="96x96"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="eichhörnchen/apple-touch-icon.png"
    />
    <meta name="apple-mobile-web-app-title" content="Rezepte" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />

    <!-- Open Graph Preview -->
    <meta property="og:title" content="Rezepte" />
    <meta property="og:site_name" content="Rezepte" />
    <meta
      property="og:image"
      content="https://acorn-rezepte.com/eichhörnchen/og-image.png"
    />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:url" content="https://acorn-rezepte.com/" />
    <meta property="og:type" content="website" />

    <!-- Preload Fonts -->
    <link
      rel="preload"
      href="/fonts/forta.woff2"
      as="font"
      type="font/woff2"
      crossorigin="anonymous"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Gabarito:wght@400..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Savate:ital,wght@0,200..900;1,200..900&display=swap"
      rel="stylesheet"
    />
    <script>
      // Set theme immediately to prevent flash
      (function () {
        let savedTheme = null;
        try {
          savedTheme = localStorage.getItem("theme");
        } catch (e) {
          // localStorage not available (private browsing, file:// protocol, etc.)
        }

        const systemPrefersDark = window.matchMedia(
          "(prefers-color-scheme: dark)"
        ).matches;
        const isDark = savedTheme ? savedTheme === "dark" : systemPrefersDark;

        if (isDark) {
          document.documentElement.setAttribute("data-theme", "dark");
        }
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script>
      // Set initial theme color on page load
      function setInitialThemeColor() {
        let savedTheme = null;
        try {
          savedTheme = localStorage.getItem("theme");
        } catch (e) {
          // localStorage not available (private browsing, file:// protocol, etc.)
        }

        const systemPrefersDark = window.matchMedia(
          "(prefers-color-scheme: dark)"
        ).matches;
        const isDark = savedTheme ? savedTheme === "dark" : systemPrefersDark;

        const themeColor = isDark ? "#55443c" : "#f2e7d2";

        // Update theme-color meta tags
        const metaTags = document.querySelectorAll('meta[name="theme-color"]');
        metaTags.forEach((tag) => tag.remove());

        const newMetaTag = document.createElement("meta");
        newMetaTag.name = "theme-color";
        newMetaTag.content = themeColor;
        document.head.appendChild(newMetaTag);
      }

      // Set initial theme color
      setInitialThemeColor();
    </script>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
